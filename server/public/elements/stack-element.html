<link rel="import" href="/bower/polymer/polymer.html">
<link rel="import" href="./card-element.html">

<dom-module id="stack-element">
  <style>
    :host {
      display: inline-block;
      -webkit-perspective: 1000;
      4px solid blue;
      min-width: 4px;
      min-height: 4px;
      background: lightgrey;
      margin: 5px;
      border: 1px solid grey;
      padding: 5px;
    }
    ::content card-element {
      position: absolute;
      top: 0;
      left: 0;
    }
  </style>
  <template>
    <content></content>
  </template>

  <script>
    Polymer({
      is: "stack-element",
      ready: function() {
        this.refreshStack();
      },
      refreshStack: function() {
        var cards = Polymer.dom(this).querySelectorAll("card-element");
        var top = 0;
        cards.forEach(function(card) {
          top -= 2;
          card.style.top = top;
        }.bind(this));
      }
    });
  </script>
</dom-module>
